(()=>{var e={184:(e,t)=>{var l;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var l=arguments[t];if(l){var n=typeof l;if("string"===n||"number"===n)e.push(l);else if(Array.isArray(l)){if(l.length){var c=r.apply(null,l);c&&e.push(c)}}else if("object"===n)if(l.toString===Object.prototype.toString)for(var i in l)o.call(l,i)&&l[i]&&e.push(i);else e.push(l.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(l=function(){return r}.apply(t,[]))||(e.exports=l)}()}},t={};function l(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,l),n.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"apiVersion":2,"$schema":"https://schemas.wp.org/trunk/block.json","name":"prc-block/layout-grid","description":"Align blocks to a global grid, with support for responsive breakpoints, gutter gap (block-spacing), and server side filtering of content.","title":"Grid","category":"design","supports":{"align":["full","wide"],"html":false,"color":{"background":true,"text":true},"spacing":{"margin":["top","bottom"],"padding":true},"__experimentalBorder":{"color":true,"width":true}},"attributes":{"presetLayout":{"type":"string"},"gutterSize":{"type":"string","default":"large"},"addGutterEnds":{"type":"boolean","default":true},"enableVerticalDivider":{"type":"boolean","default":false},"verticalAlignment":{"type":"string"}},"usesContext":["queryId","query","postId","postType"],"providesContext":{"prc-block/layout-grid/presetLayout":"presetLayout"},"example":{"innerBlocks":[{"name":"prc-block/layout-grid-column","innerBlocks":[{"name":"core/paragraph","attributes":{"customFontSize":32,"content":"<strong>Hello world!</strong>","align":"center"}}]},{"name":"prc-block/layout-grid-column","innerBlocks":[{"name":"core/image","attributes":{"url":"https://s.w.org/images/core/5.3/Windbuchencom.jpg"}}]}]},"editorScript":"file:./index.js","editorStyle":"file:./index.css","viewScript":"file:./view.js","style":"file:./view.css"}');function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},o.apply(this,arguments)}const r=window.wp.element;var n=l(184),c=l.n(n);const i=window.wp.i18n,a=window.wp.blockEditor,s=window.wp.data,u=window.lodash,m=window.wp.primitives,p=(0,r.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(m.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})),d=(0,r.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(m.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})),v=(0,r.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(m.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})),b=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=[{label:(0,i.__)("2 cols","prc-block-library-layout-grid"),value:2},{label:(0,i.__)("3 cols","prc-block-library-layout-grid"),value:3},{label:(0,i.__)("4 cols","prc-block-library-layout-grid"),value:4}];return e&&t.unshift({label:(0,i.__)("1 col","prc-block-library-layout-grid"),value:1}),t},g="Desktop",h="Tablet",y="Mobile",w=()=>[{value:g,label:(0,i.__)("Desktop","prc-block-library-layout-grid"),icon:p},{value:h,label:(0,i.__)("Tablet","prc-block-library-layout-grid"),icon:d},{value:y,label:(0,i.__)("Mobile","prc-block-library-layout-grid"),icon:v}],k=[g,h,y];function _(e,t){return`column${e+1}${t}Span`}function f(e,t){return`column${e+1}${t}Offset`}const E=e=>e===h?8:e===y?4:12;function S(e,t,l){return e===h?3===t&&2===l?E(e):1<t?E(e)/2:E(e):e===y?E(e):E(e)/t}const V=function(e){let{peviewDeviceType:t,ref:l}=e;return(0,r.createElement)("div",{className:"prc-block-layout-grid__overlay",ref:l},(0,r.createElement)("div",{className:"prc-block-layout-grid__overlay__inner"},(0,u.times)(E(t)).map((e=>(0,r.createElement)("div",{className:"prc-block-layout-grid__overlay__column",key:e})))))},x=window.wp.components,z=window.wp.compose;function B(){return!!document.querySelector(".edit-site-visual-editor__editor-canvas")}function P(e){let{previewDeviceType:t,viewPort:l,updateViewport:o}=e;console.log("<DevicePreviewToolbar />",t,l,B());const{__experimentalSetPreviewDeviceType:n}=(0,s.useDispatch)(B()?"core/edit-site":"core/edit-post"),[c,i]=(0,z.useResizeObserver)(),u=(0,z.useViewportMatch)("medium","<"),m=(0,z.useViewportMatch)("small","<");return(0,r.useEffect)((()=>{const e=function(e,t){return e?"Mobile":t?"Tablet":"Desktop"}(m,u);e!==l&&o(e)}),[i]),(0,r.createElement)(r.Fragment,null,c,!m&&(0,r.createElement)(a.BlockControls,null,(0,r.createElement)(x.Dropdown,{renderToggle:e=>{let{isOpen:l,onToggle:o}=e;return(0,r.createElement)(x.ToolbarGroup,null,(0,r.createElement)(x.Button,{"aria-expanded":l,onClick:o,icon:w().find((e=>e.value===t)).icon}))},renderContent:()=>(0,r.createElement)(x.MenuGroup,null,(0,r.createElement)(x.MenuItemsChoice,{value:t,onSelect:e=>n(e),choices:w()}))})))}function T(e){return(0,r.createElement)(x.SVG,o({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},e),(0,r.createElement)(x.Path,{d:"M7 12v24h34V12H7zm32 22H9V14h30v20z"}))}function D(e){return(0,r.createElement)(x.SVG,o({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},e),(0,r.createElement)(x.Path,{d:"M7,12v24h34V12H7z M23,34H9V14h14V34z M39,34H25V14h14V34z"}))}function M(e){return(0,r.createElement)(x.SVG,o({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},e),(0,r.createElement)(x.Path,{d:"M7 12v24h34V12H7zm23 2h9v20h-9V14zm-2 20h-8V14h8v20zM9 14h9v20H9V14z"}))}function C(e){return(0,r.createElement)(x.SVG,o({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},e),(0,r.createElement)(x.Path,{d:"M7 12v24h34V12H7zm8 22H9V14h6v20zm8 0h-6V14h6v20zm8 0h-6V14h6v20zm8 0h-6V14h6v20z"}))}const H=function(e){let{columns:t,...l}=e;return 4===t?(0,r.createElement)(C,l):3===t?(0,r.createElement)(M,l):2===t?(0,r.createElement)(D,l):(0,r.createElement)(T,l)},I=(t,l,o,r)=>{const n={};for(let e=0;e<r;e++)for(let t=0;t<k.length;t++){const l=S(k[t],r,e);n[_(e,k[t])]=l,n[f(e,k[t])]=0}!function(t,l,o,r,n){const{replaceBlock:c}=(0,s.dispatch)("core/block-editor"),{getBlocks:i}=(0,s.select)("core/block-editor"),a=function(t,l,o){if(o>l)return[...t,...Array.from({length:o-l},(()=>(0,e.createBlock)("prc-block/layout-grid-column")))];let r=[...t],n=0;return r.reverse(),r=r.filter((e=>!(n<l-o&&0===e.innerBlocks.length&&(n++,1)))),r.slice(Math.max(0,l-o-n)).reverse()}(i(l),o,r);a.forEach(((e,t)=>{const l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return 2===e?[{columnStart:0,columnSpan:6},{columnStart:7,columnSpan:6}]:3===e?[{columnStart:0,columnSpan:4},{columnStart:5,columnSpan:4},{columnStart:9,columnSpan:4}]:4===e?[{columnStart:0,columnSpan:3},{columnStart:4,columnSpan:3},{columnStart:7,columnSpan:3},{columnStart:10,columnSpan:3}]:[null]}(r);e.attributes={...e.attributes,...l[t]},console.log(e)})),console.log("updateColumns...",a,t,n);const u=(0,e.createBlock)("prc-block/layout-grid",{...t},a);console.log("... updateColumns...",u),c(l,u)}(t,l,o,r,n)};function O(e){let{attributes:t,clientId:l,columns:o}=e;return console.log("<LayoutPanel />",t,l,o),(0,r.createElement)(x.PanelBody,{title:(0,i.__)("Layout","layout-grid")},(0,r.createElement)("div",{className:"prc-block-layout-grid__controls__layout block-editor-block-styles"},b(!0).map((e=>(0,r.createElement)("div",{key:e.value,className:c()("block-editor-block-styles__item",{"is-active":o===e.value}),onClick:()=>{console.log("columns",o,e.value),I(t,l,o,e.value)},onKeyDown:t=>{ENTER!==t.keyCode&&SPACE!==t.keyCode||(t.preventDefault(),console.log("columns",e.value))},role:"button",tabIndex:"0","aria-label":e.label},(0,r.createElement)("div",{className:"block-editor-block-styles__item-preview"},(0,r.createElement)(H,{columns:e.value})),(0,r.createElement)("div",{className:"editor-block-styles__item-label block-editor-block-styles__item-label"},e.label))))),(0,r.createElement)("p",{className:"prc-block-layout-grid__controls__layout__help"},(0,i.__)("Changing the number of columns will reset your layout and could remove content.","layout-grid")))}function G(e){let{attributes:t,clientId:l}=e;return console.log("<LayoutPlaceholder />"),(0,r.createElement)(x.Placeholder,{icon:"layout",label:(0,i.__)("Choose Layout","layout-grid"),instructions:(0,i.__)("Select a layout to start with:","layout-grid")},(0,r.createElement)("ul",{className:"block-editor-inner-blocks__template-picker-options"},b().map((e=>(0,r.createElement)("li",{key:e.value},(0,r.createElement)(x.IconButton,{isSecondary:!0,icon:(0,r.createElement)(H,{columns:e.value}),onClick:()=>{console.log("Placeholder",e.value),I(t,l,0,e.value)},className:"block-editor-inner-blocks__template-picker-option",label:e.label}))))))}function N(e){let{attributes:t,clientId:l,columns:o,previewDeviceType:n}=e;const[c,i]=(0,r.useState)(null);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(a.InspectorControls,null,(0,r.createElement)(O,{attributes:t,clientId:l,columns:o})),(0,r.createElement)(a.BlockControls,null,(0,r.createElement)(P,{previewDeviceType:n,viewPort:c,updateViewport:e=>i(e)})))}const j=["prc-block/layout-grid-column"],L=[{name:"one-column",title:(0,i.__)("One"),description:(0,i.__)("One column","prc-block-library-primitives"),icon:(0,r.createElement)(H,{columns:1}),isDefault:!0,innerBlocks:[["prc-block/layout-grid-column"]],scope:["block"]},{name:"two-columns",title:(0,i.__)("Two"),description:(0,i.__)("Two columns","prc-block-library-primitives"),icon:(0,r.createElement)(H,{columns:2}),innerBlocks:[["prc-block/layout-grid-column"],["prc-block/layout-grid-column"]],scope:["block"]},{name:"three-columns",title:(0,i.__)("Three"),description:(0,i.__)("Three columns","prc-block-library-primitives"),icon:(0,r.createElement)(H,{columns:3}),innerBlocks:[["prc-block/layout-grid-column"],["prc-block/layout-grid-column"],["prc-block/layout-grid-column"]],scope:["block"]},{name:"four-columns",title:(0,i.__)("Four"),description:(0,i.__)("Four columns","prc-block-library-primitives"),icon:(0,r.createElement)(H,{columns:4}),innerBlocks:[["prc-block/layout-grid-column"],["prc-block/layout-grid-column"],["prc-block/layout-grid-column"],["prc-block/layout-grid-column"]],scope:["block"]}],{name:A,attributes:$}=t,F={icon:function(e){return e.size&&(e.width=e.size,e.height=e.size),(0,r.createElement)(x.SVG,o({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},e),(0,r.createElement)(x.Path,{d:"M19 6H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-7.5 11.5H6c-.3 0-.5-.2-.5-.5V8c0-.3.2-.5.5-.5h5.5v10zm4 0H13v-10h2.5v10zm4-.5c0 .3-.2.5-.5.5h-2v-10h2c.3 0 .5.2.5.5v9z"}))},edit:function(e){let{className:t,attributes:l,setAttributes:n,isSelected:i,clientId:u}=e;const m=(0,r.useRef)(),{presetLayout:p,gutterSize:d,addGutterEnds:v,enableVerticalDivider:b,verticalAlignment:g}=l,{columns:h,previewDeviceType:y}=(0,s.useSelect)((e=>{var t;const{getBlockCount:l}=e("core/block-editor");return{columns:l(u),previewDeviceType:null===(t=e("core/edit-post"))||void 0===t?void 0:t.__experimentalGetPreviewDeviceType()}}),[]),w=(0,a.useBlockProps)({className:c()(t,`is-previewing-device-${y}`)}),k=(0,a.useInnerBlocksProps)({},{allowedBlocks:j,orientation:"horizontal",template:[["prc-block/layout-grid-column",{}]],templateLock:"insert"});return 0===h?(0,r.createElement)("div",w,(0,r.createElement)(G,{attributes:l,clientId:u})):(0,r.createElement)("div",w,(0,r.createElement)(V,{previewDeviceType:y,ref:m}),(0,r.createElement)(N,o({},l,{columns:h,previewDeviceType:y,clientId:u})),(0,r.createElement)("div",k))},save:()=>(0,r.createElement)(a.InnerBlocks.Content,null),variations:L};(0,e.registerBlockType)(A,{...t,...F})})()})();
//# sourceMappingURL=index.js.map