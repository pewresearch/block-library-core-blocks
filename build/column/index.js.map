{"version":3,"file":"column/index.js","mappings":"mBAAA,MAAM,EAA+BA,OAAW,GAAW,QCArD,GCA+BA,OAAW,GAAQ,KDAnBA,OAAW,GAAS,OEAnD,EAA+BA,OAAW,GAAW,QCArD,EAA+BA,OAAW,GAAe,YCAzD,EAA+BA,OAAW,GAAc,WCAxD,EAA+BA,OAAW,GAAQ,KCclDC,EAAQ,CACb,CACCC,MAAO,EACPC,MAAO,KAER,CACCD,MAAO,EACPC,MAAO,KAER,CACCD,MAAO,EACPC,MAAO,KAER,CACCD,MAAO,EACPC,MAAO,KAER,CACCD,MAAO,EACPC,MAAO,KAER,CACCD,MAAO,EACPC,MAAO,KAER,CACCD,MAAO,EACPC,MAAO,KAER,CACCD,MAAO,EACPC,MAAO,KAER,CACCD,MAAO,EACPC,MAAO,KAER,CACCD,MAAO,GACPC,MAAO,MAER,CACCD,MAAO,GACPC,MAAO,MAER,CACCD,MAAO,GACPC,MAAO,OAIM,SAASC,EAAT,GAA+D,IAAzC,WAAEC,EAAF,cAAcC,EAAd,SAA6BC,GAAY,EAC7E,MAAM,MAAEC,IAAUC,EAAAA,EAAAA,YAAWC,IAC5B,MAAM,cAAEC,EAAF,mBAAiBC,EAAjB,qBAAqCC,GAC1CH,EAAO,qBACR,MAAO,CACNF,MAAOG,EAAcJ,GAAY,EADlC,KAKK,UACLO,EADK,SAELC,EAFK,eAGLC,EAHK,eAILC,EAJK,gBAKLC,EALK,gBAMLC,EANK,UAOLC,GACGf,EAEEgB,EAAUD,EAAYA,EAAUE,MAAM,KAAO,GAE7CC,EAAuB,SAACC,GAAoC,IAAvBC,EAAuB,uDAAd,UACnDJ,EAAQK,SAAQ,CAACC,EAAMC,KAClBD,EAAKE,SAAU,GAAEJ,kBACpBJ,EAAQS,OAAOF,EAAG,EAClB,IAGFG,QAAQC,IAAI,kCAAmCX,GAE/C,MAAMY,EAAwB,SAAQzB,KAASiB,gBAAqBD,IAC/DH,EAAQQ,SAASI,IACrBZ,EAAQa,KAAKD,GAEdF,QAAQC,IAAI,KAAMX,GAElB,MAAMc,EAAM,CACXf,UAAWC,EAAQe,KAAK,MAGrB,YAAcX,EACjBU,EAAIpB,SAAWS,EACL,WAAaC,EACvBU,EAAInB,eAAiBQ,EACX,WAAaC,IACvBU,EAAIlB,eAAiBO,GAGtBlB,EAAc6B,EACd,EAEKE,EAAwB,SAACC,GAAqC,IAAvBb,EAAuB,uDAAd,UACrDJ,EAAQK,SAAQ,CAACC,EAAMC,KAClBD,EAAKE,SAAU,GAAEJ,mBACpBJ,EAAQS,OAAOF,EAAG,EAClB,IAGF,MAAMW,EAAyB,SAAQ/B,KAASiB,iBAAsBa,IACjEjB,EAAQQ,SAASU,IACrBlB,EAAQa,KAAKK,GAGd,MAAMJ,EAAM,CACXf,UAAWC,EAAQe,KAAK,MAGrB,YAAcX,EACjBU,EAAIrB,UAAYwB,EACN,WAAab,EACvBU,EAAIjB,gBAAkBoB,EACZ,WAAab,IACvBU,EAAIhB,gBAAkBmB,GAGvBhC,EAAc6B,EACd,EAED,OACC,mBAAC,EAAAK,kBAAD,MACC,mBAAC,EAAAC,UAAD,CAAWC,MAAM,cAChB,0BAAKtB,UAAU,6BACd,mBAAC,EAAAuB,aAAD,CACCxC,MAAM,eACND,MAAOa,EACP6B,SAAWC,IACVtB,EAAqBsB,EAAS,UAA9B,EAEDC,gBAAgB,EAChBC,IAAK,EACLC,IAAK,GACLC,MAAOhD,KAER,mBAAC,EAAAiD,YAAD,OACA,mBAAC,EAAAP,aAAD,CACCxC,MAAM,cACND,MAAOc,EACP4B,SAAWC,IACVtB,EAAqBsB,EAAS,SAA9B,EAEDC,gBAAgB,EAChBC,IAAK,EACLC,IAAK,EACLC,MAAOhD,EAAMkD,QAAQxB,GAAS,GAAKA,EAAKzB,WAEzC,mBAAC,EAAAgD,YAAD,OACA,mBAAC,EAAAP,aAAD,CACCxC,MAAM,cACND,MAAOe,EACP2B,SAAWC,IACVtB,EAAqBsB,EAAS,SAA9B,EAEDC,gBAAgB,EAChBC,IAAK,EACLC,IAAK,EACLC,MAAOhD,EAAMkD,QAAQxB,GAAS,GAAKA,EAAKzB,aAK3C,mBAAC,EAAAuC,UAAD,CAAWC,MAAM,sBAAsBU,aAAa,IACnD,0BAAKhC,UAAU,6BACd,mBAAC,EAAAiC,YAAD,CAAaC,KAAK,8HACjB,mBAAC,EAAAX,aAAD,CACCxC,MAAM,gBACND,MAAOY,EACP8B,SAAWW,IACVlB,EAAsBkB,EAAU,UAAhC,EAEDT,gBAAgB,EAChBC,IAAK,EACLC,IAAK,GACLC,MAAOhD,EACPuD,gBAAiB,KAElB,mBAAC,EAAAN,YAAD,OACA,mBAAC,EAAAP,aAAD,CACCxC,MAAM,eACND,MAAOgB,EACP0B,SAAWW,IACVlB,EAAsBkB,EAAU,SAAhC,EAEDT,gBAAgB,EAChBC,IAAK,EACLC,IAAK,EACLC,MAAOhD,EAAMkD,QAAQxB,GAAS,GAAKA,EAAKzB,QACxCsD,gBAAiB,KAElB,mBAAC,EAAAN,YAAD,OACA,mBAAC,EAAAP,aAAD,CACCxC,MAAM,eACND,MAAOiB,EACPyB,SAAWW,IACVlB,EAAsBkB,EAAU,SAAhC,EAEDT,gBAAgB,EAChBC,IAAK,EACLC,IAAK,EACLC,MAAOhD,EAAMkD,QAAQxB,GAAS,GAAKA,EAAKzB,QACxCsD,gBAAiB,OAOvB,CCrND,MAAMC,EAAY,cACZC,EAAkB,2BAExB3B,QAAQC,IAAI,sCAEZ2B,EAAAA,EAAAA,WACC,2BACAD,GACCE,IACIH,IAAcG,EAASC,OAI5B9B,QAAQC,IAAI,wBAAyB4B,GAEVA,EAASE,aAL5BF,MAaTD,EAAAA,EAAAA,WACC,mBACAD,GACAK,EAAAA,EAAAA,6BACEC,GACA,SAAoCC,GACnC,MAAM,KAAEJ,EAAF,WAAQxD,EAAR,cAAoBC,EAApB,SAAmCC,GAAa0D,EACtD,GAAIR,IAAcI,EACjB,OAAO,mBAACG,EAAcC,GAGvB,MAAM,WAAEC,IAAezD,EAAAA,EAAAA,YAAWC,IACjC,MAAM,mBAAEE,EAAF,qBAAsBC,GAAyBH,EAAQ,qBAC7D,MAAO,CACNwD,WAAYtD,EAAoBC,EAAsBN,IAAa2D,WADpE,IAKD,OACC,mBAAC,EAAAC,SAAD,KACED,IACA,mBAAC9D,EAAD,CAAoBC,aAAYC,gBAAeC,cAEhD,mBAACyD,EAAcC,GAGjB,GACF,6BAED,G","sources":["webpack://@pewresearch/block-library-primitives/external window [\"wp\",\"element\"]","webpack://@pewresearch/block-library-primitives/external window [\"wp\",\"hooks\"]","webpack://@pewresearch/block-library-primitives/external window [\"wp\",\"i18n\"]","webpack://@pewresearch/block-library-primitives/external window [\"wp\",\"compose\"]","webpack://@pewresearch/block-library-primitives/external window [\"wp\",\"blockEditor\"]","webpack://@pewresearch/block-library-primitives/external window [\"wp\",\"components\"]","webpack://@pewresearch/block-library-primitives/external window [\"wp\",\"data\"]","webpack://@pewresearch/block-library-primitives/./src/column/grid-controls.jsx","webpack://@pewresearch/block-library-primitives/./src/column/index.js"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"compose\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Fragment, useEffect } from '@wordpress/element';\nimport {\n\tBaseControl,\n\tCardDivider,\n\tPanelBody,\n\tRangeControl,\n} from '@wordpress/components';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\n\nconst MARKS = [\n\t{\n\t\tvalue: 1,\n\t\tlabel: '1',\n\t},\n\t{\n\t\tvalue: 2,\n\t\tlabel: '2',\n\t},\n\t{\n\t\tvalue: 3,\n\t\tlabel: '3',\n\t},\n\t{\n\t\tvalue: 4,\n\t\tlabel: '4',\n\t},\n\t{\n\t\tvalue: 5,\n\t\tlabel: '5',\n\t},\n\t{\n\t\tvalue: 6,\n\t\tlabel: '6',\n\t},\n\t{\n\t\tvalue: 7,\n\t\tlabel: '7',\n\t},\n\t{\n\t\tvalue: 8,\n\t\tlabel: '8',\n\t},\n\t{\n\t\tvalue: 9,\n\t\tlabel: '9',\n\t},\n\t{\n\t\tvalue: 10,\n\t\tlabel: '10',\n\t},\n\t{\n\t\tvalue: 11,\n\t\tlabel: '11',\n\t},\n\t{\n\t\tvalue: 12,\n\t\tlabel: '12',\n\t},\n];\n\nexport default function GridControls({ attributes, setAttributes, clientId }) {\n\tconst { index } = useSelect((select) => {\n\t\tconst { getBlockIndex, getBlockAttributes, getBlockRootClientId } =\n\t\t\tselect('core/block-editor');\n\t\treturn {\n\t\t\tindex: getBlockIndex(clientId) + 1,\n\t\t};\n\t});\n\n\tconst {\n\t\tgridStart,\n\t\tgridSpan,\n\t\ttabletGridSpan,\n\t\tmobileGridSpan,\n\t\ttabletGridStart,\n\t\tmobileGridStart,\n\t\tclassName,\n\t} = attributes;\n\n\tconst classes = className ? className.split(' ') : [];\n\n\tconst handleGridSpanChange = (newGridSpan, device = 'desktop') => {\n\t\tclasses.forEach((item, i) => {\n\t\t\tif (item.includes(`${device}-grid__span-`)) {\n\t\t\t\tclasses.splice(i, 1);\n\t\t\t}\n\t\t});\n\n\t\tconsole.log('handleGridSpanChange -> classes', classes);\n\n\t\tconst newGridSpanClassName = `column${index}-${device}-grid__span-${newGridSpan}`;\n\t\tif (!classes.includes(newGridSpanClassName)) {\n\t\t\tclasses.push(newGridSpanClassName);\n\t\t}\n\t\tconsole.log('->', classes);\n\n\t\tconst obj = {\n\t\t\tclassName: classes.join(' '),\n\t\t};\n\n\t\tif ('desktop' === device) {\n\t\t\tobj.gridSpan = newGridSpan;\n\t\t} else if ('tablet' === device) {\n\t\t\tobj.tabletGridSpan = newGridSpan;\n\t\t} else if ('mobile' === device) {\n\t\t\tobj.mobileGridSpan = newGridSpan;\n\t\t}\n\n\t\tsetAttributes(obj);\n\t};\n\n\tconst handleGridStartChange = (newGridStart, device = 'desktop') => {\n\t\tclasses.forEach((item, i) => {\n\t\t\tif (item.includes(`${device}-grid__start-`)) {\n\t\t\t\tclasses.splice(i, 1);\n\t\t\t}\n\t\t});\n\n\t\tconst newGridStartClassName = `column${index}-${device}-grid__start-${newGridStart}`;\n\t\tif (!classes.includes(newGridStartClassName)) {\n\t\t\tclasses.push(newGridStartClassName);\n\t\t}\n\n\t\tconst obj = {\n\t\t\tclassName: classes.join(' '),\n\t\t};\n\n\t\tif ('desktop' === device) {\n\t\t\tobj.gridStart = newGridStart;\n\t\t} else if ('tablet' === device) {\n\t\t\tobj.tabletGridStart = newGridStart;\n\t\t} else if ('mobile' === device) {\n\t\t\tobj.mobileGridStart = newGridStart;\n\t\t}\n\n\t\tsetAttributes(obj);\n\t};\n\n\treturn (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title=\"Grid Span\">\n\t\t\t\t<div className=\"css-grid-column-controls\">\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel=\"Desktop Span\"\n\t\t\t\t\t\tvalue={gridSpan}\n\t\t\t\t\t\tonChange={(newSpan) => {\n\t\t\t\t\t\t\thandleGridSpanChange(newSpan, 'desktop');\n\t\t\t\t\t\t}}\n\t\t\t\t\t\twithInputField={false}\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tmax={12}\n\t\t\t\t\t\tmarks={MARKS}\n\t\t\t\t\t/>\n\t\t\t\t\t<CardDivider />\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel=\"Tablet Span\"\n\t\t\t\t\t\tvalue={tabletGridSpan}\n\t\t\t\t\t\tonChange={(newSpan) => {\n\t\t\t\t\t\t\thandleGridSpanChange(newSpan, 'tablet');\n\t\t\t\t\t\t}}\n\t\t\t\t\t\twithInputField={false}\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tmax={8}\n\t\t\t\t\t\tmarks={MARKS.filter((item) => 8 >= item.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<CardDivider />\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel=\"Mobile Span\"\n\t\t\t\t\t\tvalue={mobileGridSpan}\n\t\t\t\t\t\tonChange={(newSpan) => {\n\t\t\t\t\t\t\thandleGridSpanChange(newSpan, 'mobile');\n\t\t\t\t\t\t}}\n\t\t\t\t\t\twithInputField={false}\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tmax={4}\n\t\t\t\t\t\tmarks={MARKS.filter((item) => 4 >= item.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</PanelBody>\n\n\t\t\t<PanelBody title=\"Grid (Experimental)\" initialOpen={false}>\n\t\t\t\t<div className=\"css-grid-column-controls\">\n\t\t\t\t\t<BaseControl help=\"These controls are experimental and currently a work-in-progress. Use them at your own risk, no support will be provided.\">\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel=\"Desktop Start\"\n\t\t\t\t\t\t\tvalue={gridStart}\n\t\t\t\t\t\t\tonChange={(newStart) => {\n\t\t\t\t\t\t\t\thandleGridStartChange(newStart, 'desktop');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\twithInputField={false}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={12}\n\t\t\t\t\t\t\tmarks={MARKS}\n\t\t\t\t\t\t\tinitialPosition={0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<CardDivider />\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel=\"Tablet Start\"\n\t\t\t\t\t\t\tvalue={tabletGridStart}\n\t\t\t\t\t\t\tonChange={(newStart) => {\n\t\t\t\t\t\t\t\thandleGridStartChange(newStart, 'tablet');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\twithInputField={false}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={8}\n\t\t\t\t\t\t\tmarks={MARKS.filter((item) => 8 >= item.value)}\n\t\t\t\t\t\t\tinitialPosition={0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<CardDivider />\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel=\"Mobile Start\"\n\t\t\t\t\t\t\tvalue={mobileGridStart}\n\t\t\t\t\t\t\tonChange={(newStart) => {\n\t\t\t\t\t\t\t\thandleGridStartChange(newStart, 'mobile');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\twithInputField={false}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={4}\n\t\t\t\t\t\t\tmarks={MARKS.filter((item) => 4 >= item.value)}\n\t\t\t\t\t\t\tinitialPosition={0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</BaseControl>\n\t\t\t\t</div>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n}\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { Fragment } from '@wordpress/element';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal Dependencies\n */\nimport GridControls from './grid-controls';\nimport './index.scss';\nimport { Grid } from 'semantic-ui-react';\n\nconst BLOCKNAME = 'core/column';\nconst BLOCKIDENTIFIER = 'prc-block-library/column';\n\nconsole.log('Hello World -> src/column/edit.js');\n\naddFilter(\n\t'blocks.registerBlockType',\n\tBLOCKIDENTIFIER,\n\t(settings) => {\n\tif ( BLOCKNAME !== settings.name) {\n\t\treturn settings;\n\t}\n\n\tconsole.log(\"Column Block Settings\", settings);\n\n\tif ('undefined' !== typeof settings.usesContext) {\n\t\t// During the group block's development the alignment options have changed, here we are enforcing all alignments to be available.\n\t\t// settings.usesContext = ['core/columns/useCSSGrid'];\n\t}\n\n\treturn settings;\n});\n\naddFilter(\n\t'editor.BlockEdit',\n\tBLOCKIDENTIFIER,\n\tcreateHigherOrderComponent(\n\t\t(BlockEdit) =>\n\t\t\tfunction ColumnBlockCSSGridControls(props) {\n\t\t\t\tconst { name, attributes, setAttributes, clientId } = props;\n\t\t\t\tif (BLOCKNAME !== name) {\n\t\t\t\t\treturn <BlockEdit {...props} />;\n\t\t\t\t}\n\n\t\t\t\tconst { useCSSGrid } = useSelect( select => {\n\t\t\t\t\tconst { getBlockAttributes, getBlockRootClientId } = select( 'core/block-editor' );\n\t\t\t\t\treturn {\n\t\t\t\t\t\tuseCSSGrid: getBlockAttributes( getBlockRootClientId( clientId ) ).useCSSGrid,\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\treturn (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{useCSSGrid && (\n\t\t\t\t\t\t\t<GridControls {...{ attributes, setAttributes, clientId }} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<BlockEdit {...props} />\n\t\t\t\t\t</Fragment>\n\t\t\t\t);\n\t\t\t},\n\t\t'withColumnCSSGridControls',\n\t),\n\t21,\n);\n"],"names":["window","MARKS","value","label","GridControls","attributes","setAttributes","clientId","index","useSelect","select","getBlockIndex","getBlockAttributes","getBlockRootClientId","gridStart","gridSpan","tabletGridSpan","mobileGridSpan","tabletGridStart","mobileGridStart","className","classes","split","handleGridSpanChange","newGridSpan","device","forEach","item","i","includes","splice","console","log","newGridSpanClassName","push","obj","join","handleGridStartChange","newGridStart","newGridStartClassName","InspectorControls","PanelBody","title","RangeControl","onChange","newSpan","withInputField","min","max","marks","CardDivider","filter","initialOpen","BaseControl","help","newStart","initialPosition","BLOCKNAME","BLOCKIDENTIFIER","addFilter","settings","name","usesContext","createHigherOrderComponent","BlockEdit","props","useCSSGrid","Fragment"],"sourceRoot":""}