{"version":3,"file":"column/index.js","mappings":"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","sources":["webpack://@pewresearch/block-library-primitives/external window [\"wp\",\"element\"]","webpack://@pewresearch/block-library-primitives/external window [\"wp\",\"hooks\"]","webpack://@pewresearch/block-library-primitives/external window [\"wp\",\"i18n\"]","webpack://@pewresearch/block-library-primitives/external window [\"wp\",\"compose\"]","webpack://@pewresearch/block-library-primitives/external window [\"wp\",\"blockEditor\"]","webpack://@pewresearch/block-library-primitives/external window [\"wp\",\"components\"]","webpack://@pewresearch/block-library-primitives/external window [\"wp\",\"data\"]","webpack://@pewresearch/block-library-primitives/./src/column/grid-controls.jsx","webpack://@pewresearch/block-library-primitives/./src/column/index.js"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"compose\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Fragment, useEffect } from '@wordpress/element';\nimport {\n\tBaseControl,\n\tCardDivider,\n\tPanelBody,\n\tRangeControl,\n} from '@wordpress/components';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { useSelect } from '@wordpress/data';\n\nconst MARKS = [\n\t{\n\t\tvalue: 1,\n\t\tlabel: '1',\n\t},\n\t{\n\t\tvalue: 2,\n\t\tlabel: '2',\n\t},\n\t{\n\t\tvalue: 3,\n\t\tlabel: '3',\n\t},\n\t{\n\t\tvalue: 4,\n\t\tlabel: '4',\n\t},\n\t{\n\t\tvalue: 5,\n\t\tlabel: '5',\n\t},\n\t{\n\t\tvalue: 6,\n\t\tlabel: '6',\n\t},\n\t{\n\t\tvalue: 7,\n\t\tlabel: '7',\n\t},\n\t{\n\t\tvalue: 8,\n\t\tlabel: '8',\n\t},\n\t{\n\t\tvalue: 9,\n\t\tlabel: '9',\n\t},\n\t{\n\t\tvalue: 10,\n\t\tlabel: '10',\n\t},\n\t{\n\t\tvalue: 11,\n\t\tlabel: '11',\n\t},\n\t{\n\t\tvalue: 12,\n\t\tlabel: '12',\n\t},\n];\n\nexport default function GridControls({ attributes, setAttributes, clientId }) {\n\tconst { index } = useSelect((select) => {\n\t\tconst { getBlockIndex, getBlockAttributes, getBlockRootClientId } =\n\t\t\tselect('core/block-editor');\n\t\treturn {\n\t\t\tindex: getBlockIndex(clientId) + 1,\n\t\t};\n\t});\n\n\tconst {\n\t\tgridStart,\n\t\tgridSpan,\n\t\ttabletGridSpan,\n\t\tmobileGridSpan,\n\t\ttabletGridStart,\n\t\tmobileGridStart,\n\t\tclassName,\n\t} = attributes;\n\n\tconst classes = className ? className.split(' ') : [];\n\n\tconst calculateRatio = (start, span) => (start + span - 1) / 12;\n\n\tconst handleGridSpanChange = (newGridSpan, device = 'desktop') => {\n\t\tclasses.forEach((item, index) => {\n\t\t\tif (\n\t\t\t\titem.includes(\n\t\t\t\t\t'desktop' !== device ? `${device}-grid__span-` : 'grid__span-',\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tclasses.splice(index, 1);\n\t\t\t}\n\t\t});\n\n\t\tconst newGridSpanClassName =\n\t\t\t'desktop' !== device\n\t\t\t\t? `column${index}-${device}-grid__span-${newGridSpan}`\n\t\t\t\t: `column${index}-grid__span-${newGridSpan}`;\n\t\tif (!classes.includes(newGridSpanClassName)) {\n\t\t\tclasses.push(newGridSpanClassName);\n\t\t}\n\n\t\tconst obj = {\n\t\t\tclassName: classes.join(' '),\n\t\t};\n\n\t\tif ('desktop' === device) {\n\t\t\tobj.gridSpan = newGridSpan;\n\t\t} else if ('tablet' === device) {\n\t\t\tobj.tabletGridSpan = newGridSpan;\n\t\t} else if ('mobile' === device) {\n\t\t\tobj.mobileGridSpan = newGridSpan;\n\t\t}\n\n\t\tsetAttributes(obj);\n\t};\n\n\tconst handleGridStartChange = (newGridStart, device = 'desktop') => {\n\t\tclasses.forEach((item, index) => {\n\t\t\tif (\n\t\t\t\titem.includes(\n\t\t\t\t\t'desktop' !== device ? `${device}-grid__start-` : 'grid__start-',\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tclasses.splice(index, 1);\n\t\t\t}\n\t\t});\n\n\t\tconst newGridStartClassName =\n\t\t\t'desktop' !== device\n\t\t\t\t? `column${index}-${device}-grid__start-${newGridStart}`\n\t\t\t\t: `column${index}-grid__start-${newGridStart}`;\n\t\tif (!classes.includes(newGridStartClassName)) {\n\t\t\tclasses.push(newGridStartClassName);\n\t\t}\n\n\t\tconst obj = {\n\t\t\tclassName: classes.join(' '),\n\t\t};\n\n\t\tif ('desktop' === device) {\n\t\t\tobj.gridStart = newGridStart;\n\t\t} else if ('tablet' === device) {\n\t\t\tobj.tabletGridStart = newGridStart;\n\t\t} else if ('mobile' === device) {\n\t\t\tobj.mobileGridStart = newGridStart;\n\t\t}\n\n\t\tsetAttributes(obj);\n\t};\n\n\treturn (\n\t\t<InspectorControls>\n\t\t\t<PanelBody title=\"Grid Span\">\n\t\t\t\t<div className=\"css-grid-column-controls\">\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel=\"Desktop Span\"\n\t\t\t\t\t\tvalue={gridSpan}\n\t\t\t\t\t\tonChange={(newSpan) => {\n\t\t\t\t\t\t\thandleGridSpanChange(newSpan, 'desktop');\n\t\t\t\t\t\t}}\n\t\t\t\t\t\twithInputField={false}\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tmax={12}\n\t\t\t\t\t\tmarks={MARKS}\n\t\t\t\t\t/>\n\t\t\t\t\t<CardDivider />\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel=\"Tablet Span\"\n\t\t\t\t\t\tvalue={tabletGridSpan}\n\t\t\t\t\t\tonChange={(newSpan) => {\n\t\t\t\t\t\t\thandleGridSpanChange(newSpan, 'tablet');\n\t\t\t\t\t\t}}\n\t\t\t\t\t\twithInputField={false}\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tmax={8}\n\t\t\t\t\t\tmarks={MARKS.filter((item) => 8 >= item.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<CardDivider />\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tlabel=\"Mobile Span\"\n\t\t\t\t\t\tvalue={mobileGridSpan}\n\t\t\t\t\t\tonChange={(newSpan) => {\n\t\t\t\t\t\t\thandleGridSpanChange(newSpan, 'mobile');\n\t\t\t\t\t\t}}\n\t\t\t\t\t\twithInputField={false}\n\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\tmax={4}\n\t\t\t\t\t\tmarks={MARKS.filter((item) => 4 >= item.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</PanelBody>\n\n\t\t\t<PanelBody title=\"Grid (Experimental)\" initialOpen={false}>\n\t\t\t\t<div className=\"css-grid-column-controls\">\n\t\t\t\t\t<BaseControl help=\"These controls are experimental and currently a work-in-progress. Use them at your own risk, no support will be provided.\">\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel=\"Desktop Start\"\n\t\t\t\t\t\t\tvalue={gridStart}\n\t\t\t\t\t\t\tonChange={(newStart) => {\n\t\t\t\t\t\t\t\thandleGridStartChange(newStart, 'desktop');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\twithInputField={false}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={12}\n\t\t\t\t\t\t\tmarks={MARKS}\n\t\t\t\t\t\t\tinitialPosition={0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<CardDivider />\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel=\"Tablet Start\"\n\t\t\t\t\t\t\tvalue={tabletGridStart}\n\t\t\t\t\t\t\tonChange={(newStart) => {\n\t\t\t\t\t\t\t\thandleGridStartChange(newStart, 'tablet');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\twithInputField={false}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={8}\n\t\t\t\t\t\t\tmarks={MARKS.filter((item) => 8 >= item.value)}\n\t\t\t\t\t\t\tinitialPosition={0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<CardDivider />\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel=\"Mobile Start\"\n\t\t\t\t\t\t\tvalue={mobileGridStart}\n\t\t\t\t\t\t\tonChange={(newStart) => {\n\t\t\t\t\t\t\t\thandleGridStartChange(newStart, 'mobile');\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\twithInputField={false}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={4}\n\t\t\t\t\t\t\tmarks={MARKS.filter((item) => 4 >= item.value)}\n\t\t\t\t\t\t\tinitialPosition={0}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</BaseControl>\n\t\t\t\t</div>\n\t\t\t</PanelBody>\n\t\t</InspectorControls>\n\t);\n}\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { Fragment } from '@wordpress/element';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal Dependencies\n */\nimport GridControls from './grid-controls';\nimport './index.scss';\nimport { Grid } from 'semantic-ui-react';\n\nconst BLOCKNAME = 'core/column';\nconst BLOCKIDENTIFIER = 'prc-block-library/column';\n\nconsole.log('Hello World -> src/column/edit.js');\n\naddFilter(\n\t'blocks.registerBlockType',\n\tBLOCKIDENTIFIER,\n\t(settings) => {\n\tif ( BLOCKNAME !== settings.name) {\n\t\treturn settings;\n\t}\n\n\tconsole.log(\"Column Block Settings\", settings);\n\n\tif ('undefined' !== typeof settings.usesContext) {\n\t\t// During the group block's development the alignment options have changed, here we are enforcing all alignments to be available.\n\t\t// settings.usesContext = ['core/columns/useCSSGrid'];\n\t}\n\n\treturn settings;\n});\n\naddFilter(\n\t'editor.BlockEdit',\n\tBLOCKIDENTIFIER,\n\tcreateHigherOrderComponent(\n\t\t(BlockEdit) =>\n\t\t\tfunction ColumnBlockCSSGridControls(props) {\n\t\t\t\tconst { name, attributes, setAttributes, clientId } = props;\n\t\t\t\tif (BLOCKNAME !== name) {\n\t\t\t\t\treturn <BlockEdit {...props} />;\n\t\t\t\t}\n\n\t\t\t\tconst { useCSSGrid } = useSelect( select => {\n\t\t\t\t\tconst { getBlockAttributes, getBlockRootClientId } = select( 'core/block-editor' );\n\t\t\t\t\treturn {\n\t\t\t\t\t\tuseCSSGrid: getBlockAttributes( getBlockRootClientId( clientId ) ).useCSSGrid,\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\treturn (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{useCSSGrid && (\n\t\t\t\t\t\t\t<GridControls {...{ attributes, setAttributes, clientId }} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<BlockEdit {...props} />\n\t\t\t\t\t</Fragment>\n\t\t\t\t);\n\t\t\t},\n\t\t'withColumnCSSGridControls',\n\t),\n\t21,\n);\n"],"names":["window","MARKS","value","label","GridControls","attributes","setAttributes","clientId","index","useSelect","select","getBlockIndex","getBlockAttributes","getBlockRootClientId","gridStart","gridSpan","tabletGridSpan","mobileGridSpan","tabletGridStart","mobileGridStart","className","classes","split","handleGridSpanChange","newGridSpan","device","forEach","item","includes","splice","newGridSpanClassName","push","obj","join","handleGridStartChange","newGridStart","newGridStartClassName","InspectorControls","PanelBody","title","RangeControl","onChange","newSpan","withInputField","min","max","marks","CardDivider","filter","initialOpen","BaseControl","help","newStart","initialPosition","BLOCKNAME","BLOCKIDENTIFIER","console","log","addFilter","settings","name","usesContext","createHigherOrderComponent","BlockEdit","props","useCSSGrid","Fragment"],"sourceRoot":""}